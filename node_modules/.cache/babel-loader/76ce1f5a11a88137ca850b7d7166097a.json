{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\jf_front_end\\src\\views\\demo\\playground\\db\\user\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\views\\demo\\playground\\db\\user\\index.vue","mtime":1605683116805},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOi93b3Jrc3BhY2UvamZfZnJvbnRfZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjovd29ya3NwYWNlL2pmX2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHVuaXF1ZUlkIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFEaXNwbGF5OiAnJywKICAgICAga2V5TmFtZVRvU2V0OiAnJywKICAgICAgdmFsdWVUb1NldDogJycsCiAgICAgIGtleU5hbWVMaXN0OiBbXSwKICAgICAga2V5TmFtZVRvRGVsZXRlOiAnJwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBrZXlOYW1lVG9EZWxldGU6IGZ1bmN0aW9uIGtleU5hbWVUb0RlbGV0ZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICB0aGlzLmhhbmRsZURlbGV0ZSh2YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnZDJhZG1pbi9kYicsIFsnZGF0YWJhc2UnLCAnZGF0YWJhc2VDbGVhciddKSksIHt9LCB7CiAgICAvKioNCiAgICAgKiDliqDovb3mnKzlnLDmlbDmja4NCiAgICAgKi8KICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5kYXRhYmFzZSh7CiAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5kYXRhRGlzcGxheSA9IEpTT04uc3RyaW5naWZ5KGRiLnZhbHVlKCksIG51bGwsIDIpOwogICAgICAgICAgICAgICAgX3RoaXMua2V5TmFtZUxpc3QgPSBPYmplY3Qua2V5cyhkYi52YWx1ZSgpKS5tYXAoZnVuY3Rpb24gKGspIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaywKICAgICAgICAgICAgICAgICAgICBsYWJlbDogawogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yig6Zmk5LiA5Liq5a2X5q61DQogICAgICovCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShuYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRiOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmRhdGFiYXNlKHsKICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRiID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBkYi51bnNldChuYW1lKS53cml0ZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmtleU5hbWVUb0RlbGV0ZSA9ICcnOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5riF56m65b2T5YmN55So5oi355qE5pWw5o2uDQogICAgICovCiAgICBoYW5kbGVDbGVhcjogZnVuY3Rpb24gaGFuZGxlQ2xlYXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZGF0YWJhc2VDbGVhcih7CiAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczMubG9hZCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5re75Yqg5LiA5Liq5pWw5o2uDQogICAgICovCiAgICBoYW5kbGVTZXQ6IGZ1bmN0aW9uIGhhbmRsZVNldCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZGI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNC5rZXlOYW1lVG9TZXQgPT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcign5a2X5q615ZCN5LiN6IO95Li656m6Jyk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmRhdGFiYXNlKHsKICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRiID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYi5zZXQoX3RoaXM0LmtleU5hbWVUb1NldCwgX3RoaXM0LnZhbHVlVG9TZXQpLndyaXRlKCk7CgogICAgICAgICAgICAgICAgX3RoaXM0LmxvYWQoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOa3u+WKoOS4gOS4qumaj+acuuaVsOaNrg0KICAgICAqLwogICAgaGFuZGxlU2V0UmFuZG9tOiBmdW5jdGlvbiBoYW5kbGVTZXRSYW5kb20oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGlkLCBkYjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSB1bmlxdWVJZCgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5kYXRhYmFzZSh7CiAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBkYiA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgZGIuc2V0KCJ1bmlxdWVLZXkiLmNvbmNhdChpZCksICJ2YWx1ZSIuY29uY2F0KGlkKSkud3JpdGUoKTsKCiAgICAgICAgICAgICAgICBfdGhpczUubG9hZCgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <d2-container>\r\n    <template slot=\"header\">\r\n      <el-alert\r\n        type=\"success\"\r\n        :closable=\"false\"\r\n        title=\"私有存储指当前用户专用的存储区域，\r\n          不同用户之间存储不会相互干扰，\r\n          使用 await this.$store.dispatch('d2admin/db/database', { user: true }) 获得存储实例进行操作，\r\n          不同用户条件下获取的存储实例指向位置不同\"/>\r\n    </template>\r\n    <el-row>\r\n      <el-col :span=\"12\">\r\n        <p class=\"d2-mt-0\">增加不重复字段</p>\r\n        <el-button @click=\"handleSetRandom\">增加</el-button>\r\n        <p>增加自定义字段</p>\r\n        <el-input v-model=\"keyNameToSet\" placeholder=\"字段名\" class=\"d2-mr-5\" style=\"width: 100px;\"/>\r\n        <el-input v-model=\"valueToSet\" placeholder=\"值\" class=\"d2-mr-5\" style=\"width: 100px;\"/>\r\n        <el-button @click=\"handleSet\">增加</el-button>\r\n        <p>删除字段</p>\r\n        <el-select\r\n          v-model=\"keyNameToDelete\"\r\n          placeholder=\"请选择要删除的 key\">\r\n          <el-option\r\n            v-for=\"item in keyNameList\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n        <p>清空当前用户数据</p>\r\n        <el-button @click=\"handleClear\">清空</el-button>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <d2-highlight :code=\"dataDisplay\"/>\r\n      </el-col>\r\n    </el-row>\r\n  </d2-container>\r\n</template>\r\n\r\n<script>\r\nimport { uniqueId } from 'lodash'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      dataDisplay: '',\r\n      keyNameToSet: '',\r\n      valueToSet: '',\r\n      keyNameList: [],\r\n      keyNameToDelete: ''\r\n    }\r\n  },\r\n  watch: {\r\n    keyNameToDelete (value) {\r\n      if (value) {\r\n        this.handleDelete(value)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.load()\r\n  },\r\n  methods: {\r\n    ...mapActions('d2admin/db', [\r\n      'database',\r\n      'databaseClear'\r\n    ]),\r\n    /**\r\n     * 加载本地数据\r\n     */\r\n    async load () {\r\n      const db = await this.database({ user: true })\r\n      this.dataDisplay = JSON.stringify(db.value(), null, 2)\r\n      this.keyNameList = Object.keys(db.value()).map(k => ({\r\n        value: k,\r\n        label: k\r\n      }))\r\n    },\r\n    /**\r\n     * 删除一个字段\r\n     */\r\n    async handleDelete (name) {\r\n      const db = await this.database({ user: true })\r\n      db\r\n        .unset(name)\r\n        .write()\r\n      this.load()\r\n      this.keyNameToDelete = ''\r\n    },\r\n    /**\r\n     * 清空当前用户的数据\r\n     */\r\n    async handleClear () {\r\n      await this.databaseClear({ user: true })\r\n      this.load()\r\n    },\r\n    /**\r\n     * 添加一个数据\r\n     */\r\n    async handleSet () {\r\n      if (this.keyNameToSet === '') {\r\n        this.$message.error('字段名不能为空')\r\n        return\r\n      }\r\n      const db = await this.database({ user: true })\r\n      db\r\n        .set(this.keyNameToSet, this.valueToSet)\r\n        .write()\r\n      this.load()\r\n    },\r\n    /**\r\n     * 添加一个随机数据\r\n     */\r\n    async handleSetRandom () {\r\n      const id = uniqueId()\r\n      const db = await this.database({ user: true })\r\n      db\r\n        .set(`uniqueKey${id}`, `value${id}`)\r\n        .write()\r\n      this.load()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/demo/playground/db/user"}]}