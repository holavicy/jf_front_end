{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\jf_front_end\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\workspace\\jf_front_end\\src\\layout\\header-aside\\components\\menu-header\\index.js","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\layout\\header-aside\\components\\menu-header\\index.js","mtime":1590460801098},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjovd29ya3NwYWNlL2pmX2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRjovd29ya3NwYWNlL2pmX2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBtZW51TWl4aW4gZnJvbSAnLi4vbWl4aW4vbWVudSc7CmltcG9ydCB7IGVsTWVudUl0ZW0sIGVsU3VibWVudSB9IGZyb20gJy4uL2xpYnMvdXRpbC5tZW51JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkMi1sYXlvdXQtaGVhZGVyLWFzaWRlLW1lbnUtaGVhZGVyJywKICBtaXhpbnM6IFttZW51TWl4aW5dLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBmbGV4OiAnY3Jvc3M6Y2VudGVyJwogICAgICB9LAogICAgICBjbGFzczogewogICAgICAgICdkMi10aGVtZS1oZWFkZXItbWVudSc6IHRydWUsCiAgICAgICAgJ2lzLXNjcm9sbGFibGUnOiB0aGlzLmlzU2Nyb2xsCiAgICAgIH0sCiAgICAgIHJlZjogJ3BhZ2UnCiAgICB9LCBbaCgnZGl2JywgewogICAgICBhdHRyczogewogICAgICAgIGNsYXNzOiAnZDItdGhlbWUtaGVhZGVyLW1lbnVfX2NvbnRlbnQnLAogICAgICAgIGZsZXg6ICcnLAogICAgICAgICdmbGV4LWJveCc6ICcxJwogICAgICB9LAogICAgICByZWY6ICdjb250ZW50JwogICAgfSwgW2goJ2RpdicsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBjbGFzczogJ2QyLXRoZW1lLWhlYWRlci1tZW51X19zY3JvbGwnLAogICAgICAgICdmbGV4LWJveCc6ICcwJwogICAgICB9LAogICAgICBzdHlsZTogewogICAgICAgIHRyYW5zZm9ybTogInRyYW5zbGF0ZVgoIi5jb25jYXQodGhpcy5jdXJyZW50VHJhbnNsYXRlWCwgInB4KSIpCiAgICAgIH0sCiAgICAgIHJlZjogJ3Njcm9sbCcKICAgIH0sIFtoKCdlbC1tZW51JywgewogICAgICBwcm9wczogewogICAgICAgIG1vZGU6ICdob3Jpem9udGFsJywKICAgICAgICBkZWZhdWx0QWN0aXZlOiB0aGlzLmFjdGl2ZQogICAgICB9LAogICAgICBvbjogewogICAgICAgIHNlbGVjdDogdGhpcy5oYW5kbGVNZW51U2VsZWN0CiAgICAgIH0KICAgIH0sIHRoaXMuaGVhZGVyLm1hcChmdW5jdGlvbiAobWVudSkgewogICAgICByZXR1cm4gKG1lbnUuY2hpbGRyZW4gPT09IHVuZGVmaW5lZCA/IGVsTWVudUl0ZW0gOiBlbFN1Ym1lbnUpLmNhbGwoX3RoaXMsIGgsIG1lbnUpOwogICAgfSkpXSldKV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmlzU2Nyb2xsID8gW2goJ2RpdicsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBjbGFzczogJ2QyLXRoZW1lLWhlYWRlci1tZW51X19wcmV2JywKICAgICAgICBmbGV4OiAnbWFpbjpjZW50ZXIgY3Jvc3M6Y2VudGVyJywKICAgICAgICAnZmxleC1ib3gnOiAnMCcKICAgICAgfSwKICAgICAgb246IHsKICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuc2Nyb2xsKCdsZWZ0Jyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBbaCgnaScsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBjbGFzczogJ2VsLWljb24tYXJyb3ctbGVmdCcKICAgICAgfQogICAgfSldKSwgaCgnZGl2JywgewogICAgICBhdHRyczogewogICAgICAgIGNsYXNzOiAnZDItdGhlbWUtaGVhZGVyLW1lbnVfX25leHQnLAogICAgICAgIGZsZXg6ICdtYWluOmNlbnRlciBjcm9zczpjZW50ZXInLAogICAgICAgICdmbGV4LWJveCc6ICcwJwogICAgICB9LAogICAgICBvbjogewogICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5zY3JvbGwoJ3JpZ2h0Jyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBbaCgnaScsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBjbGFzczogJ2VsLWljb24tYXJyb3ctcmlnaHQnCiAgICAgIH0KICAgIH0pXSldIDogW10pKSk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ2QyYWRtaW4vbWVudScsIFsnaGVhZGVyJ10pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlOiAnJywKICAgICAgaXNTY3JvbGw6IGZhbHNlLAogICAgICBzY3JvbGxXaWR0aDogMCwKICAgICAgY29udGVudFdpZHRoOiAwLAogICAgICBjdXJyZW50VHJhbnNsYXRlWDogMCwKICAgICAgdGhyb3R0bGVkQ2hlY2tTY3JvbGw6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZS5tYXRjaGVkJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMuYWN0aXZlID0gdmFsW3ZhbC5sZW5ndGggLSAxXS5wYXRoOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNjcm9sbDogZnVuY3Rpb24gc2Nyb2xsKGRpcmVjdGlvbikgewogICAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHsKICAgICAgICAvLyDlkJHlj7Pmu5rliqgKICAgICAgICB0aGlzLmN1cnJlbnRUcmFuc2xhdGVYID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlkJHlt6bmu5rliqgKICAgICAgICBpZiAodGhpcy5jb250ZW50V2lkdGggKiAyIC0gdGhpcy5jdXJyZW50VHJhbnNsYXRlWCA8PSB0aGlzLnNjcm9sbFdpZHRoKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRUcmFuc2xhdGVYIC09IHRoaXMuY29udGVudFdpZHRoOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRUcmFuc2xhdGVYID0gdGhpcy5jb250ZW50V2lkdGggLSB0aGlzLnNjcm9sbFdpZHRoOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoZWNrU2Nyb2xsOiBmdW5jdGlvbiBjaGVja1Njcm9sbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgY29udGVudFdpZHRoID0gdGhpcy4kcmVmcy5jb250ZW50LmNsaWVudFdpZHRoOwogICAgICB2YXIgc2Nyb2xsV2lkdGggPSB0aGlzLiRyZWZzLnNjcm9sbC5jbGllbnRXaWR0aDsKCiAgICAgIGlmICh0aGlzLmlzU2Nyb2xsKSB7CiAgICAgICAgLy8g6aG16Z2i5L6d5pen5YWB6K645rua5Yqo55qE5oOF5Ya177yM6ZyA6KaB5pu05pawd2lkdGgKICAgICAgICBpZiAodGhpcy5jb250ZW50V2lkdGggLSB0aGlzLnNjcm9sbFdpZHRoID09PSB0aGlzLmN1cnJlbnRUcmFuc2xhdGVYKSB7CiAgICAgICAgICAvLyBjdXJyZW50VHJhbnNsYXRlWCDkuZ/pnIDopoHnm7jlupTlj5jljJbjgJDlnKjlj7Pnq6/liLDlpLTnmoTmg4XlhrXml7bjgJEKICAgICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZVggPSBjb250ZW50V2lkdGggLSBzY3JvbGxXaWR0aDsgLy8g5b+r6YCf55qE5ruR5Yqo5L6d5pen5a2Y5Zyo5Yik5pat5ZKM6K6h566X5pe25a+55bqU55qEY29udGVudFdpZHRo5Y+Y5oiQ5q2j5pWw77yM5omA5Lul6ZyA6KaB6ZmQ5Yi25LiA5LiLCgogICAgICAgICAgaWYgKHRoaXMuY3VycmVudFRyYW5zbGF0ZVggPiAwKSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZVggPSAwOwogICAgICAgICAgfQogICAgICAgIH0gLy8g5pu05paw5YWD57Sg5pWw5o2uCgoKICAgICAgICB0aGlzLmNvbnRlbnRXaWR0aCA9IGNvbnRlbnRXaWR0aDsKICAgICAgICB0aGlzLnNjcm9sbFdpZHRoID0gc2Nyb2xsV2lkdGg7IC8vIOWIpOaWreS9leaXtua7muWKqOa2iOWksTog5b2Tc2Nyb2xsID4gY29udGVudAoKICAgICAgICBpZiAoY29udGVudFdpZHRoID4gc2Nyb2xsV2lkdGgpIHsKICAgICAgICAgIHRoaXMuaXNTY3JvbGwgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gLy8g5Yik5pat5L2V5pe25rua5Yqo5Ye6546wOiDlvZNzY3JvbGwgPCBjb250ZW50CgoKICAgICAgaWYgKCF0aGlzLmlzU2Nyb2xsICYmIGNvbnRlbnRXaWR0aCA8IHNjcm9sbFdpZHRoKSB7CiAgICAgICAgdGhpcy5pc1Njcm9sbCA9IHRydWU7IC8vIOazqOaEj++8jOW9k2lzU2Nyb2xs5Y+Y5Li6dHJ1Ze+8jOWvueW6lOeahOWFg+e0oOebkuWtkOWkp+Wwj+S8muWPkeeUn+WPmOWMlgoKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb250ZW50V2lkdGggPSBfdGhpczIuJHJlZnMuY29udGVudC5jbGllbnRXaWR0aDsKICAgICAgICAgIHNjcm9sbFdpZHRoID0gX3RoaXMyLiRyZWZzLnNjcm9sbC5jbGllbnRXaWR0aDsKICAgICAgICAgIF90aGlzMi5jb250ZW50V2lkdGggPSBjb250ZW50V2lkdGg7CiAgICAgICAgICBfdGhpczIuc2Nyb2xsV2lkdGggPSBzY3JvbGxXaWR0aDsKICAgICAgICAgIF90aGlzMi5jdXJyZW50VHJhbnNsYXRlWCA9IDA7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyDliJ3lp4vljJbliKTmlq0KICAgIC8vIOm7mOiupOWIpOaWreeItuWFg+e0oOWSjOWtkOWFg+e0oOeahOWkp+Wwj++8jOS7peehruWumuWIneWni+aDheWGteaYr+WQpuaYvuekuua7muWKqAogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLmNoZWNrU2Nyb2xsKTsgLy8g5YWo5bGA56qX5Y+j5Y+Y5YyW55uR5ZCs77yM5Yik5pat54i25YWD57Sg5ZKM5a2Q5YWD57Sg55qE5aSn5bCP77yM5LuO6ICM5o6n5Yi2aXNTY3JvbGznmoTlvIDlhbMKCiAgICB0aGlzLnRocm90dGxlZENoZWNrU2Nyb2xsID0gdGhyb3R0bGUodGhpcy5jaGVja1Njcm9sbCwgMzAwKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnRocm90dGxlZENoZWNrU2Nyb2xsKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyDlj5bmtojnm5HlkKwKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnRocm90dGxlZENoZWNrU2Nyb2xsKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5jaGVja1Njcm9sbCk7CiAgfQp9Ow=="},{"version":3,"sources":["F:/workspace/jf_front_end/src/layout/header-aside/components/menu-header/index.js"],"names":["throttle","mapState","menuMixin","elMenuItem","elSubmenu","name","mixins","render","h","attrs","flex","class","isScroll","ref","style","transform","currentTranslateX","props","mode","defaultActive","active","on","select","handleMenuSelect","header","map","menu","children","undefined","call","click","scroll","computed","data","scrollWidth","contentWidth","throttledCheckScroll","watch","handler","val","length","path","immediate","methods","direction","checkScroll","$refs","content","clientWidth","$nextTick","mounted","window","addEventListener","beforeDestroy","removeEventListener"],"mappings":"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","sourcesContent":["import { throttle } from 'lodash'\r\nimport { mapState } from 'vuex'\r\nimport menuMixin from '../mixin/menu'\r\nimport { elMenuItem, elSubmenu } from '../libs/util.menu'\r\n\r\nexport default {\r\n  name: 'd2-layout-header-aside-menu-header',\r\n  mixins: [\r\n    menuMixin\r\n  ],\r\n  render (h) {\r\n    return h('div', {\r\n      attrs: { flex: 'cross:center' },\r\n      class: { 'd2-theme-header-menu': true, 'is-scrollable': this.isScroll },\r\n      ref: 'page'\r\n    }, [\r\n      h('div', {\r\n        attrs: { class: 'd2-theme-header-menu__content', flex: '', 'flex-box': '1' },\r\n        ref: 'content'\r\n      }, [\r\n        h('div', {\r\n          attrs: { class: 'd2-theme-header-menu__scroll', 'flex-box': '0' },\r\n          style: { transform: `translateX(${this.currentTranslateX}px)` },\r\n          ref: 'scroll'\r\n        }, [\r\n          h('el-menu', {\r\n            props: { mode: 'horizontal', defaultActive: this.active },\r\n            on: { select: this.handleMenuSelect }\r\n          }, this.header.map(menu => (menu.children === undefined ? elMenuItem : elSubmenu).call(this, h, menu)))\r\n        ])\r\n      ]),\r\n      ...this.isScroll ? [\r\n        h('div', {\r\n          attrs: { class: 'd2-theme-header-menu__prev', flex: 'main:center cross:center', 'flex-box': '0' },\r\n          on: { click: () => this.scroll('left') }\r\n        }, [\r\n          h('i', { attrs: { class: 'el-icon-arrow-left' } })\r\n        ]),\r\n        h('div', {\r\n          attrs: { class: 'd2-theme-header-menu__next', flex: 'main:center cross:center', 'flex-box': '0' },\r\n          on: { click: () => this.scroll('right') }\r\n        }, [\r\n          h('i', { attrs: { class: 'el-icon-arrow-right' } })\r\n        ])\r\n      ] : []\r\n    ])\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin/menu', [\r\n      'header'\r\n    ])\r\n  },\r\n  data () {\r\n    return {\r\n      active: '',\r\n      isScroll: false,\r\n      scrollWidth: 0,\r\n      contentWidth: 0,\r\n      currentTranslateX: 0,\r\n      throttledCheckScroll: null\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.matched': {\r\n      handler (val) {\r\n        this.active = val[val.length - 1].path\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    scroll (direction) {\r\n      if (direction === 'left') {\r\n        // 向右滚动\r\n        this.currentTranslateX = 0\r\n      } else {\r\n        // 向左滚动\r\n        if (this.contentWidth * 2 - this.currentTranslateX <= this.scrollWidth) {\r\n          this.currentTranslateX -= this.contentWidth\r\n        } else {\r\n          this.currentTranslateX = this.contentWidth - this.scrollWidth\r\n        }\r\n      }\r\n    },\r\n    checkScroll () {\r\n      let contentWidth = this.$refs.content.clientWidth\r\n      let scrollWidth = this.$refs.scroll.clientWidth\r\n      if (this.isScroll) {\r\n        // 页面依旧允许滚动的情况，需要更新width\r\n        if (this.contentWidth - this.scrollWidth === this.currentTranslateX) {\r\n          // currentTranslateX 也需要相应变化【在右端到头的情况时】\r\n          this.currentTranslateX = contentWidth - scrollWidth\r\n          // 快速的滑动依旧存在判断和计算时对应的contentWidth变成正数，所以需要限制一下\r\n          if (this.currentTranslateX > 0) {\r\n            this.currentTranslateX = 0\r\n          }\r\n        }\r\n        // 更新元素数据\r\n        this.contentWidth = contentWidth\r\n        this.scrollWidth = scrollWidth\r\n        // 判断何时滚动消失: 当scroll > content\r\n        if (contentWidth > scrollWidth) {\r\n          this.isScroll = false\r\n        }\r\n      }\r\n      // 判断何时滚动出现: 当scroll < content\r\n      if (!this.isScroll && contentWidth < scrollWidth) {\r\n        this.isScroll = true\r\n        // 注意，当isScroll变为true，对应的元素盒子大小会发生变化\r\n        this.$nextTick(() => {\r\n          contentWidth = this.$refs.content.clientWidth\r\n          scrollWidth = this.$refs.scroll.clientWidth\r\n          this.contentWidth = contentWidth\r\n          this.scrollWidth = scrollWidth\r\n          this.currentTranslateX = 0\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 初始化判断\r\n    // 默认判断父元素和子元素的大小，以确定初始情况是否显示滚动\r\n    window.addEventListener('load', this.checkScroll)\r\n    // 全局窗口变化监听，判断父元素和子元素的大小，从而控制isScroll的开关\r\n    this.throttledCheckScroll = throttle(this.checkScroll, 300)\r\n    window.addEventListener('resize', this.throttledCheckScroll)\r\n  },\r\n  beforeDestroy () {\r\n    // 取消监听\r\n    window.removeEventListener('resize', this.throttledCheckScroll)\r\n    window.removeEventListener('load', this.checkScroll)\r\n  }\r\n}\r\n"]}]}