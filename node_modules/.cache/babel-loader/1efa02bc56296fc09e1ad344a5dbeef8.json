{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\jf_front_end\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\workspace\\jf_front_end\\src\\layout\\header-aside\\components\\menu-side\\index.js","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\layout\\header-aside\\components\\menu-side\\index.js","mtime":1590460801099},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjovd29ya3NwYWNlL2pmX2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRjovd29ya3NwYWNlL2pmX2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgbWVudU1peGluIGZyb20gJy4uL21peGluL21lbnUnOwppbXBvcnQgeyBlbE1lbnVJdGVtLCBlbFN1Ym1lbnUgfSBmcm9tICcuLi9saWJzL3V0aWwubWVudSc7CmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2QyLWxheW91dC1oZWFkZXItYXNpZGUtbWVudS1zaWRlJywKICBtaXhpbnM6IFttZW51TWl4aW5dLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBjbGFzczogJ2QyLWxheW91dC1oZWFkZXItYXNpZGUtbWVudS1zaWRlJwogICAgICB9CiAgICB9LCBbaCgnZWwtbWVudScsIHsKICAgICAgcHJvcHM6IHsKICAgICAgICBjb2xsYXBzZTogdGhpcy5hc2lkZUNvbGxhcHNlLAogICAgICAgIGNvbGxhcHNlVHJhbnNpdGlvbjogdGhpcy5hc2lkZVRyYW5zaXRpb24sCiAgICAgICAgdW5pcXVlT3BlbmVkOiB0cnVlLAogICAgICAgIGRlZmF1bHRBY3RpdmU6IHRoaXMuJHJvdXRlLmZ1bGxQYXRoCiAgICAgIH0sCiAgICAgIHJlZjogJ21lbnUnLAogICAgICBvbjogewogICAgICAgIHNlbGVjdDogdGhpcy5oYW5kbGVNZW51U2VsZWN0CiAgICAgIH0KICAgIH0sIHRoaXMuYXNpZGUubWFwKGZ1bmN0aW9uIChtZW51KSB7CiAgICAgIHJldHVybiAobWVudS5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkID8gZWxNZW51SXRlbSA6IGVsU3VibWVudSkuY2FsbChfdGhpcywgaCwgbWVudSk7CiAgICB9KSldLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5hc2lkZS5sZW5ndGggPT09IDAgJiYgIXRoaXMuYXNpZGVDb2xsYXBzZSA/IFtoKCdkaXYnLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgY2xhc3M6ICdkMi1sYXlvdXQtaGVhZGVyLWFzaWRlLW1lbnUtZW1wdHknLAogICAgICAgIGZsZXg6ICdkaXI6dG9wIG1haW46Y2VudGVyIGNyb3NzOmNlbnRlcicKICAgICAgfQogICAgfSwgW2goJ2QyLWljb24nLCB7CiAgICAgIHByb3BzOiB7CiAgICAgICAgbmFtZTogJ2luYm94JwogICAgICB9CiAgICB9KSwgaCgnc3BhbicsIHt9LCAn5rKh5pyJ5L6n5qCP6I+c5Y2VJyldKV0gOiBbXSkpKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhc2lkZUhlaWdodDogMzAwLAogICAgICBCUzogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnZDJhZG1pbi9tZW51JywgWydhc2lkZScsICdhc2lkZUNvbGxhcHNlJywgJ2FzaWRlVHJhbnNpdGlvbiddKSksCiAgd2F0Y2g6IHsKICAgIC8vIOaKmOWPoOWSjOWxleW8gOiPnOWNleeahOaXtuWAmemUgOavgSBiZXR0ZXIgc2Nyb2xsCiAgICBhc2lkZUNvbGxhcHNlOiBmdW5jdGlvbiBhc2lkZUNvbGxhcHNlKHZhbCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2Nyb2xsRGVzdHJveSgpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuc2Nyb2xsSW5pdCgpOwogICAgICB9LCA1MDApOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2Nyb2xsSW5pdCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc2Nyb2xsRGVzdHJveSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2Nyb2xsSW5pdDogZnVuY3Rpb24gc2Nyb2xsSW5pdCgpIHsKICAgICAgdGhpcy5CUyA9IG5ldyBCU2Nyb2xsKHRoaXMuJGVsLCB7CiAgICAgICAgbW91c2VXaGVlbDogdHJ1ZSwKICAgICAgICBjbGljazogdHJ1ZSAvLyDlpoLmnpzkvaDmhL/mhI/lj6/ku6XmiZPlvIDmmL7npLrmu5rliqjmnaEKICAgICAgICAvLyBzY3JvbGxiYXI6IHsKICAgICAgICAvLyAgIGZhZGU6IHRydWUsCiAgICAgICAgLy8gICBpbnRlcmFjdGl2ZTogZmFsc2UKICAgICAgICAvLyB9CgogICAgICB9KTsKICAgIH0sCiAgICBzY3JvbGxEZXN0cm95OiBmdW5jdGlvbiBzY3JvbGxEZXN0cm95KCkgewogICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZDItcHJvamVjdHMvZDItYWRtaW4vaXNzdWVzLzc1CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5CUy5kZXN0cm95KCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBkZWxldGUgdGhpcy5CUzsKICAgICAgICB0aGlzLkJTID0gbnVsbDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["F:/workspace/jf_front_end/src/layout/header-aside/components/menu-side/index.js"],"names":["mapState","menuMixin","elMenuItem","elSubmenu","BScroll","name","mixins","render","h","attrs","class","props","collapse","asideCollapse","collapseTransition","asideTransition","uniqueOpened","defaultActive","$route","fullPath","ref","on","select","handleMenuSelect","aside","map","menu","children","undefined","call","length","flex","data","asideHeight","BS","computed","watch","val","scrollDestroy","setTimeout","scrollInit","mounted","beforeDestroy","methods","$el","mouseWheel","click","destroy","e"],"mappings":"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","sourcesContent":["import { mapState } from 'vuex'\r\nimport menuMixin from '../mixin/menu'\r\nimport { elMenuItem, elSubmenu } from '../libs/util.menu'\r\nimport BScroll from 'better-scroll'\r\n\r\nexport default {\r\n  name: 'd2-layout-header-aside-menu-side',\r\n  mixins: [\r\n    menuMixin\r\n  ],\r\n  render (h) {\r\n    return h('div', { attrs: { class: 'd2-layout-header-aside-menu-side' } }, [\r\n      h('el-menu', {\r\n        props: { collapse: this.asideCollapse, collapseTransition: this.asideTransition, uniqueOpened: true, defaultActive: this.$route.fullPath },\r\n        ref: 'menu',\r\n        on: { select: this.handleMenuSelect }\r\n      }, this.aside.map(menu => (menu.children === undefined ? elMenuItem : elSubmenu).call(this, h, menu))),\r\n      ...this.aside.length === 0 && !this.asideCollapse ? [\r\n        h('div', { attrs: { class: 'd2-layout-header-aside-menu-empty', flex: 'dir:top main:center cross:center' } }, [\r\n          h('d2-icon', { props: { name: 'inbox' } }),\r\n          h('span', {}, '没有侧栏菜单')\r\n        ])\r\n      ] : []\r\n    ])\r\n  },\r\n  data () {\r\n    return {\r\n      asideHeight: 300,\r\n      BS: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin/menu', [\r\n      'aside',\r\n      'asideCollapse',\r\n      'asideTransition'\r\n    ])\r\n  },\r\n  watch: {\r\n    // 折叠和展开菜单的时候销毁 better scroll\r\n    asideCollapse (val) {\r\n      this.scrollDestroy()\r\n      setTimeout(() => {\r\n        this.scrollInit()\r\n      }, 500)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.scrollInit()\r\n  },\r\n  beforeDestroy () {\r\n    this.scrollDestroy()\r\n  },\r\n  methods: {\r\n    scrollInit () {\r\n      this.BS = new BScroll(this.$el, {\r\n        mouseWheel: true,\r\n        click: true\r\n        // 如果你愿意可以打开显示滚动条\r\n        // scrollbar: {\r\n        //   fade: true,\r\n        //   interactive: false\r\n        // }\r\n      })\r\n    },\r\n    scrollDestroy () {\r\n      // https://github.com/d2-projects/d2-admin/issues/75\r\n      try {\r\n        this.BS.destroy()\r\n      } catch (e) {\r\n        delete this.BS\r\n        this.BS = null\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}