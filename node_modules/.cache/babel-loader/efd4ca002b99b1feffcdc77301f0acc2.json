{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\jf_front_end\\src\\views\\demo\\playground\\db\\page-snapshot-public\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\views\\demo\\playground\\db\\page-snapshot-public\\index.vue","mtime":1590460801192},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjovd29ya3NwYWNlL2pmX2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L3dvcmtzcGFjZS9qZl9mcm9udF9lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHJlZ2lvbjogJycsCiAgICAgICAgZGF0ZTE6ICcnLAogICAgICAgIGRhdGUyOiAnJywKICAgICAgICBkZWxpdmVyeTogZmFsc2UsCiAgICAgICAgdHlwZTogW10sCiAgICAgICAgcmVzb3VyY2U6ICcnLAogICAgICAgIGRlc2M6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgZGF0YSwga2V5OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBhZ2VHZXQoewogICAgICAgICAgICAgICAgaW5zdGFuY2U6IF90aGlzCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgICAgICAgICAgIF90aGlzW2tleV0gPSBkYXRhW2tleV07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICRkYXRhOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5wYWdlU2V0KHsKICAgICAgICAgIGluc3RhbmNlOiB0aGlzCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnZDJhZG1pbi9kYicsIFsncGFnZVNldCcsICdwYWdlR2V0JywgJ3BhZ2VDbGVhciddKSksIHt9LCB7CiAgICBoYW5kbGVDbGVhcjogZnVuY3Rpb24gaGFuZGxlQ2xlYXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIucGFnZUNsZWFyKHsKICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IF90aGlzMgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfmraTpobXpnaLlv6vnhaflt7Lnu4/liKDpmaTvvIzor7fph43mlrDov5vlhaXor6XpobXpnaLmiJbogIXlhbPpl63pgInpobnljaHph43mlrDmiZPlvIAnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA,EAJA;AAKA,QAAA,QAAA,EAAA,KALA;AAMA,QAAA,IAAA,EAAA,EANA;AAOA,QAAA,QAAA,EAAA,EAPA;AAQA,QAAA,IAAA,EAAA;AARA;AADA,KAAA;AAYA,GAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,OAAA,CAAA;AAAA,gBAAA,QAAA,EAAA;AAAA,eAAA,CADA;;AAAA;AACA,cAAA,IADA;;AAEA,mBAAA,GAAA,IAAA,IAAA,EAAA;AACA,gBAAA,KAAA,CAAA,GAAA,CAAA,GAAA,IAAA,CAAA,GAAA,CAAA;AACA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,GApBA;AAqBA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,OADA,qBACA;AACA,aAAA,OAAA,CAAA;AAAA,UAAA,QAAA,EAAA;AAAA,SAAA;AACA,OAHA;AAIA,MAAA,IAAA,EAAA;AAJA;AADA,GArBA;AA6BA,EAAA,OAAA,kCACA,UAAA,CAAA,YAAA,EAAA,CACA,SADA,EAEA,SAFA,EAGA,WAHA,CAAA,CADA;AAMA,IAAA,WANA,yBAMA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,SAAA,CAAA;AAAA,kBAAA,QAAA,EAAA;AAAA,iBAAA,CADA;;AAAA;AAEA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,+BAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AATA;AA7BA,CAAA","sourcesContent":["<template>\r\n  <d2-container>\r\n    <template slot=\"header\">\r\n      <el-alert\r\n        type=\"success\"\r\n        :closable=\"false\"\r\n        title=\"路由快照相当于路由存储一种快捷操作，\r\n          会将传入的 vue instance 携带的 $data 全部持久化，\r\n          下面的表单来自 Element 的表单示例，\r\n          在 D2Admin 的本页示例中你可以随意填写这个表单，\r\n          表单内容会自动实时持久化，\r\n          无论是切换标签页、重新打开标签页、刷新浏览器、重开浏览器、重开浏览器标签页等，\r\n          该页面数据都会自动恢复到上次填写的状态，\r\n          这些都只需要你使用 D2Admin 提供的两个方法，\r\n          总共只需要多写十几行代码\"/>\r\n    </template>\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" style=\"max-width: 600px; margin: 0px auto;\">\r\n      <el-form-item label=\"活动名称\">\r\n        <el-input v-model=\"form.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动区域\">\r\n        <el-select v-model=\"form.region\" placeholder=\"请选择活动区域\">\r\n          <el-option label=\"区域一\" value=\"shanghai\"></el-option>\r\n          <el-option label=\"区域二\" value=\"beijing\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动时间\">\r\n        <el-col :span=\"11\">\r\n          <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.date1\" style=\"width: 100%;\"></el-date-picker>\r\n        </el-col>\r\n        <el-col :span=\"2\" style=\"text-align: center;\">-</el-col>\r\n        <el-col :span=\"11\">\r\n          <el-time-picker type=\"fixed-time\" placeholder=\"选择时间\" v-model=\"form.date2\" style=\"width: 100%;\"></el-time-picker>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"即时配送\">\r\n        <el-switch v-model=\"form.delivery\"></el-switch>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动性质\">\r\n        <el-checkbox-group v-model=\"form.type\">\r\n          <el-checkbox label=\"线上活动\" name=\"type\"></el-checkbox>\r\n          <el-checkbox label=\"地推活动\" name=\"type\"></el-checkbox>\r\n          <el-checkbox label=\"线下活动\" name=\"type\"></el-checkbox>\r\n          <el-checkbox label=\"品牌曝光\" name=\"type\"></el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"特殊资源\">\r\n        <el-radio-group v-model=\"form.resource\">\r\n          <el-radio label=\"线上品牌商赞助\"></el-radio>\r\n          <el-radio label=\"线下场地免费\"></el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动形式\">\r\n        <el-input type=\"textarea\" v-model=\"form.desc\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\">立即创建</el-button>\r\n        <el-button>取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-button\r\n      slot=\"footer\"\r\n      type=\"danger\"\r\n      @click=\"handleClear\">\r\n      <d2-icon name=\"trash-o\"/>\r\n      删除当前页面快照\r\n    </el-button>\r\n  </d2-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        name: '',\r\n        region: '',\r\n        date1: '',\r\n        date2: '',\r\n        delivery: false,\r\n        type: [],\r\n        resource: '',\r\n        desc: ''\r\n      }\r\n    }\r\n  },\r\n  async created () {\r\n    const data = await this.pageGet({ instance: this })\r\n    for (const key in data) {\r\n      this[key] = data[key]\r\n    }\r\n  },\r\n  watch: {\r\n    $data: {\r\n      handler () {\r\n        this.pageSet({ instance: this })\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('d2admin/db', [\r\n      'pageSet',\r\n      'pageGet',\r\n      'pageClear'\r\n    ]),\r\n    async handleClear () {\r\n      await this.pageClear({ instance: this })\r\n      this.$message.success('此页面快照已经删除，请重新进入该页面或者关闭选项卡重新打开')\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/demo/playground/db/page-snapshot-public"}]}