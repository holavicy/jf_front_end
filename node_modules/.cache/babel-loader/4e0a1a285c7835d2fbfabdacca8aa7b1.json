{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\jf_front_end\\src\\views\\demo\\plugins\\import\\csv.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\views\\demo\\plugins\\import\\csv.vue","mtime":1590460801209},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBwbHVnaW5JbXBvcnQgZnJvbSAnQGQyLXByb2plY3RzL3Z1ZS10YWJsZS1pbXBvcnQnOwpWdWUudXNlKHBsdWdpbkltcG9ydCk7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGU6IHsKICAgICAgICBjb2x1bW5zOiBbXSwKICAgICAgICBkYXRhOiBbXSwKICAgICAgICBzaXplOiAnbWluaScsCiAgICAgICAgc3RyaXBlOiB0cnVlLAogICAgICAgIGJvcmRlcjogdHJ1ZQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaW1wb3J0LmNzdihmaWxlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50YWJsZS5jb2x1bW5zID0gT2JqZWN0LmtleXMocmVzLmRhdGFbMF0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbGFiZWw6IGUsCiAgICAgICAgICAgIHByb3A6IGUKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMudGFibGUuZGF0YSA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGRvd25sb2FkOiBmdW5jdGlvbiBkb3dubG9hZCgpIHsKICAgICAgdGhpcy4kb3BlbignaHR0cHM6Ly9jZG4uZDIucHViL2ZpbGVzL2QyLWFkbWluL2RlbW8tY3N2LmNzdicpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["csv.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,YAAA,MAAA,+BAAA;AACA,GAAA,CAAA,GAAA,CAAA,YAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,MAHA;AAIA,QAAA,MAAA,EAAA,IAJA;AAKA,QAAA,MAAA,EAAA;AALA;AADA,KAAA;AASA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,IADA,EACA;AAAA;;AACA,WAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,OAAA,GAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iBAAA;AACA,YAAA,KAAA,EAAA,CADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAAA,SAAA,CAAA;AAIA,QAAA,KAAA,CAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAPA;AAQA,aAAA,KAAA;AACA,KAXA;AAYA,IAAA,QAZA,sBAYA;AACA,WAAA,KAAA,CAAA,gDAAA;AACA;AAdA;AAZA,CAAA","sourcesContent":["<template>\r\n  <d2-container type=\"card\">\r\n    <template slot=\"header\">\r\n      <el-button @click=\"download\">\r\n        <d2-icon name=\"download\"/>\r\n        下载演示 .csv 表格\r\n      </el-button>\r\n    </template>\r\n    <div class=\"d2-mb\">\r\n      <el-upload :before-upload=\"handleUpload\" action=\"default\">\r\n        <el-button type=\"success\">\r\n          <d2-icon name=\"file-o\"/>\r\n          选择要导入的 .csv 表格\r\n        </el-button>\r\n      </el-upload>\r\n    </div>\r\n    <el-table v-bind=\"table\">\r\n      <el-table-column\r\n        v-for=\"(item, index) in table.columns\"\r\n        :key=\"index\"\r\n        :prop=\"item.prop\"\r\n        :label=\"item.label\">\r\n      </el-table-column>\r\n    </el-table>\r\n  </d2-container>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport pluginImport from '@d2-projects/vue-table-import'\r\nVue.use(pluginImport)\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      table: {\r\n        columns: [],\r\n        data: [],\r\n        size: 'mini',\r\n        stripe: true,\r\n        border: true\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleUpload (file) {\r\n      this.$import.csv(file)\r\n        .then(res => {\r\n          this.table.columns = Object.keys(res.data[0]).map(e => ({\r\n            label: e,\r\n            prop: e\r\n          }))\r\n          this.table.data = res.data\r\n        })\r\n      return false\r\n    },\r\n    download () {\r\n      this.$open('https://cdn.d2.pub/files/d2-admin/demo-csv.csv')\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/demo/plugins/import"}]}