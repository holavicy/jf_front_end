{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\jf_front_end\\src\\components\\d2-quill\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\components\\d2-quill\\index.vue","mtime":1590460801091},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KaW1wb3J0IFF1aWxsIGZyb20gJ3F1aWxsJzsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmNvcmUuY3NzJzsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLnNub3cuY3NzJzsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmJ1YmJsZS5jc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2QyLXF1aWxsJywKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgUXVpbGw6IHVuZGVmaW5lZCwKICAgICAgY3VycmVudFZhbHVlOiAnJywKICAgICAgb3B0aW9uczogewogICAgICAgIHRoZW1lOiAnc25vdycsCiAgICAgICAgYm91bmRzOiBkb2N1bWVudC5ib2R5LAogICAgICAgIGRlYnVnOiAnd2FybicsCiAgICAgICAgbW9kdWxlczogewogICAgICAgICAgdG9vbGJhcjogW1snYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZSddLCBbJ2Jsb2NrcXVvdGUnLCAnY29kZS1ibG9jayddLCBbewogICAgICAgICAgICBsaXN0OiAnb3JkZXJlZCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGlzdDogJ2J1bGxldCcKICAgICAgICAgIH1dLCAvLyBbeyAnc2NyaXB0JzogJ3N1YicgfSwgeyAnc2NyaXB0JzogJ3N1cGVyJyB9XSwKICAgICAgICAgIC8vIFt7ICdpbmRlbnQnOiAnLTEnIH0sIHsgJ2luZGVudCc6ICcrMScgfV0sCiAgICAgICAgICAvLyBbeyAnZGlyZWN0aW9uJzogJ3J0bCcgfV0sCiAgICAgICAgICBbewogICAgICAgICAgICBzaXplOiBbJ3NtYWxsJywgZmFsc2UsICdsYXJnZScsICdodWdlJ10KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBoZWFkZXI6IFsxLCAyLCAzLCA0LCA1LCA2LCBmYWxzZV0KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBjb2xvcjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogW10KICAgICAgICAgIH1dLCAvLyBbeyAnZm9udCc6IFtdIH1dLAogICAgICAgICAgW3sKICAgICAgICAgICAgYWxpZ246IFtdCiAgICAgICAgICB9XSwgWydjbGVhbiddLCBbJ2xpbmsnLCAnaW1hZ2UnXV0KICAgICAgICB9LAogICAgICAgIHBsYWNlaG9sZGVyOiAn5Lmm5YaZ5L2g55qE5YaF5a65JywKICAgICAgICByZWFkT25seTogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIC8vIOehruiupOaYr+aWsOeahOWAvAogICAgICAgIGlmICh2YWwgIT09IHRoaXMuY3VycmVudFZhbHVlKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbDsgLy8g5bCd6K+V5pu05pawCgogICAgICAgICAgaWYgKHRoaXMuUXVpbGwpIHsKICAgICAgICAgICAgdGhpcy5RdWlsbC5wYXN0ZUhUTUwodGhpcy52YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZWRpdG9yID0gdGhpcy4kcmVmcy5lZGl0b3I7IC8vIOWIneWni+WMlue8lui+keWZqAoKICAgICAgdGhpcy5RdWlsbCA9IG5ldyBRdWlsbChlZGl0b3IsIHRoaXMub3B0aW9ucyk7IC8vIOm7mOiupOWAvAoKICAgICAgdGhpcy5RdWlsbC5wYXN0ZUhUTUwodGhpcy5jdXJyZW50VmFsdWUpOyAvLyDnu5Hlrprkuovku7YKCiAgICAgIHRoaXMuUXVpbGwub24oJ3RleHQtY2hhbmdlJywgZnVuY3Rpb24gKGRlbHRhLCBvbGREZWx0YSwgc291cmNlKSB7CiAgICAgICAgdmFyIGh0bWwgPSBfdGhpcy4kcmVmcy5lZGl0b3IuY2hpbGRyZW5bMF0uaW5uZXJIVE1MOwoKICAgICAgICB2YXIgdGV4dCA9IF90aGlzLlF1aWxsLmdldFRleHQoKTsKCiAgICAgICAgdmFyIHF1aWxsID0gX3RoaXMuUXVpbGw7IC8vIOabtOaWsOWGhemDqOeahOWAvAoKICAgICAgICBfdGhpcy5jdXJyZW50VmFsdWUgPSBodG1sOyAvLyDlj5Hlh7rkuovku7Ygdi1tb2RlbAoKICAgICAgICBfdGhpcy4kZW1pdCgnaW5wdXQnLCBodG1sKTsgLy8g5Y+R5Ye65LqL5Lu2CgoKICAgICAgICBfdGhpcy4kZW1pdCgnY2hhbmdlJywgewogICAgICAgICAgaHRtbDogaHRtbCwKICAgICAgICAgIHRleHQ6IHRleHQsCiAgICAgICAgICBxdWlsbDogcXVpbGwKICAgICAgICB9KTsKICAgICAgfSk7IC8vIOWwhuS4gOS6myBxdWlsbCDoh6rluKbnmoTkuovku7bkvKDpgJLlh7rljrsKCiAgICAgIHRoaXMuUXVpbGwub24oJ3RleHQtY2hhbmdlJywgZnVuY3Rpb24gKGRlbHRhLCBvbGREZWx0YSwgc291cmNlKSB7CiAgICAgICAgX3RoaXMuJGVtaXQoJ3RleHQtY2hhbmdlJywgZGVsdGEsIG9sZERlbHRhLCBzb3VyY2UpOwogICAgICB9KTsKICAgICAgdGhpcy5RdWlsbC5vbignc2VsZWN0aW9uLWNoYW5nZScsIGZ1bmN0aW9uIChyYW5nZSwgb2xkUmFuZ2UsIHNvdXJjZSkgewogICAgICAgIF90aGlzLiRlbWl0KCdzZWxlY3Rpb24tY2hhbmdlJywgcmFuZ2UsIG9sZFJhbmdlLCBzb3VyY2UpOwogICAgICB9KTsKICAgICAgdGhpcy5RdWlsbC5vbignZWRpdG9yLWNoYW5nZScsIGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICB9CgogICAgICAgIF90aGlzLiRlbWl0LmFwcGx5KF90aGlzLCBbJ2VkaXRvci1jaGFuZ2UnLCBldmVudE5hbWVdLmNvbmNhdChhcmdzKSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div ref=\"editor\"></div>\r\n</template>\r\n\r\n<script>\r\nimport Quill from 'quill'\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nexport default {\r\n  name: 'd2-quill',\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      Quill: undefined,\r\n      currentValue: '',\r\n      options: {\r\n        theme: 'snow',\r\n        bounds: document.body,\r\n        debug: 'warn',\r\n        modules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'],\r\n            ['blockquote', 'code-block'],\r\n            [{ list: 'ordered' }, { list: 'bullet' }],\r\n            // [{ 'script': 'sub' }, { 'script': 'super' }],\r\n            // [{ 'indent': '-1' }, { 'indent': '+1' }],\r\n            // [{ 'direction': 'rtl' }],\r\n            [{ size: ['small', false, 'large', 'huge'] }],\r\n            [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n            [{ color: [] }, { background: [] }],\r\n            // [{ 'font': [] }],\r\n            [{ align: [] }],\r\n            ['clean'],\r\n            ['link', 'image']\r\n          ]\r\n        },\r\n        placeholder: '书写你的内容',\r\n        readOnly: false\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    value: {\r\n      handler (val) {\r\n        // 确认是新的值\r\n        if (val !== this.currentValue) {\r\n          this.currentValue = val\r\n          // 尝试更新\r\n          if (this.Quill) {\r\n            this.Quill.pasteHTML(this.value)\r\n          }\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted () {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init () {\r\n      const editor = this.$refs.editor\r\n      // 初始化编辑器\r\n      this.Quill = new Quill(editor, this.options)\r\n      // 默认值\r\n      this.Quill.pasteHTML(this.currentValue)\r\n      // 绑定事件\r\n      this.Quill.on('text-change', (delta, oldDelta, source) => {\r\n        const html = this.$refs.editor.children[0].innerHTML\r\n        const text = this.Quill.getText()\r\n        const quill = this.Quill\r\n        // 更新内部的值\r\n        this.currentValue = html\r\n        // 发出事件 v-model\r\n        this.$emit('input', html)\r\n        // 发出事件\r\n        this.$emit('change', { html, text, quill })\r\n      })\r\n      // 将一些 quill 自带的事件传递出去\r\n      this.Quill.on('text-change', (delta, oldDelta, source) => {\r\n        this.$emit('text-change', delta, oldDelta, source)\r\n      })\r\n      this.Quill.on('selection-change', (range, oldRange, source) => {\r\n        this.$emit('selection-change', range, oldRange, source)\r\n      })\r\n      this.Quill.on('editor-change', (eventName, ...args) => {\r\n        this.$emit('editor-change', eventName, ...args)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/d2-quill"}]}