{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\jf_front_end\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\workspace\\jf_front_end\\src\\router\\index.js","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\router\\index.js","mtime":1592558680496},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRjovd29ya3NwYWNlL2pmX2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsgLy8g6L+b5bqm5p2hCgppbXBvcnQgTlByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZS9pbmRleCc7CmltcG9ydCB1dGlsIGZyb20gJ0AvbGlicy91dGlsLmpzJzsgLy8g6Lev55Sx5pWw5o2uCgppbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJzsKaW1wb3J0ICogYXMgZGQgZnJvbSAnZGluZ3RhbGstanNhcGknOwppbXBvcnQgYXBpIGZyb20gJ0AvYXBpJzsgLy8gZml4IHZ1ZS1yb3V0ZXIgTmF2aWdhdGlvbkR1cGxpY2F0ZWRzCgp2YXIgVnVlUm91dGVyUHVzaCA9IFZ1ZVJvdXRlci5wcm90b3R5cGUucHVzaDsKClZ1ZVJvdXRlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHsKICByZXR1cm4gVnVlUm91dGVyUHVzaC5jYWxsKHRoaXMsIGxvY2F0aW9uKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICByZXR1cm4gZXJyOwogIH0pOwp9OwoKdmFyIFZ1ZVJvdXRlclJlcGxhY2UgPSBWdWVSb3V0ZXIucHJvdG90eXBlLnJlcGxhY2U7CgpWdWVSb3V0ZXIucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7CiAgcmV0dXJuIFZ1ZVJvdXRlclJlcGxhY2UuY2FsbCh0aGlzLCBsb2NhdGlvbikuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgcmV0dXJuIGVycjsKICB9KTsKfTsKClZ1ZS51c2UoVnVlUm91dGVyKTsgLy8g5a+85Ye66Lev55SxIOWcqCBtYWluLmpzIOmHjOS9v+eUqAoKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIHJvdXRlczogcm91dGVzCn0pOwovKioNCiAqIOi3r+eUseaLpuaIqg0KICog5p2D6ZmQ6aqM6K+BDQogKi8KCnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIHRva2VuLCBpc0RELCBjb3JwSWQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnZDJhZG1pbi9wYWdlL2lzTG9hZGVkJyk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnZDJhZG1pbi9zaXplL2lzTG9hZGVkJyk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAvLyDov5vluqbmnaEKICAgICAgICAgICAgTlByb2dyZXNzLnN0YXJ0KCk7IC8vIOWFs+mXreaQnOe0oumdouadvwoKICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdkMmFkbWluL3NlYXJjaC9zZXQnLCBmYWxzZSk7IC8vIOmqjOivgeW9k+WJjei3r+eUseaJgOacieeahOWMuemFjeS4reaYr+WQpumcgOimgeacieeZu+W9lemqjOivgeeahAoKICAgICAgICAgICAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocikgewogICAgICAgICAgICAgIHJldHVybiByLm1ldGEuYXV0aDsKICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICAvLyDov5nph4zmmoLml7blsIZjb29raWXph4zmmK/lkKblrZjmnIl0b2tlbuS9nOS4uumqjOivgeaYr+WQpueZu+W9leeahOadoeS7tgogICAgICAgICAgICAgIC8vIOivt+agueaNruiHqui6q+S4muWKoemcgOimgeS/ruaUuQogICAgICAgICAgICAgIHRva2VuID0gdXRpbC5jb29raWVzLmdldCgndG9rZW4nKTsKCiAgICAgICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDmsqHmnInnmbvlvZXnmoTml7blgJnot7PovazliLDnmbvlvZXnlYzpnaIKICAgICAgICAgICAgICAgIC8vIOaQuuW4puS4iueZu+mZhuaIkOWKn+S5i+WQjumcgOimgei3s+i9rOeahOmhtemdouWujOaVtOi3r+W+hAogICAgICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5piv6ZKJ6ZKJ77yM6Iul5piv6ZKJ6ZKJ77yM5YWN55m75a2YY29va2llCiAgICAgICAgICAgICAgICAvLyDoi6XkuI3mmK/lhY3nmbvvvIzliJnot7PovaznmbvlvZXpobXpnaIKICAgICAgICAgICAgICAgIGlzREQgPSBkZC5lbnYucGxhdGZvcm0gIT09ICdub3RJbkRpbmdUYWxrJzsKICAgICAgICAgICAgICAgIGNvcnBJZCA9ICdkaW5nY2QwZjVhMjUxNGRiMzQzYjM1YzJmNDY1N2ViNjM3OGYnOwoKICAgICAgICAgICAgICAgIGlmIChpc0REKSB7CiAgICAgICAgICAgICAgICAgIGRkLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBkZC5ydW50aW1lLnBlcm1pc3Npb24ucmVxdWVzdEF1dGhDb2RlKHsKICAgICAgICAgICAgICAgICAgICAgIGNvcnBJZDogY29ycElkLAogICAgICAgICAgICAgICAgICAgICAgLy8g5LyB5LiaaWQKICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKGluZm8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBpbmZvLmNvZGU7IC8vIOmAmui/h+ivpeWFjeeZu+aOiOadg+eggeWPr+S7peiOt+WPlueUqOaIt+i6q+S7vQoKICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jb29raWVzLnNldCgnY29kZScsIGNvZGUpOwogICAgICAgICAgICAgICAgICAgICAgICBhcGkuRElOR19MT0dJTihjb2RlLCBjb3JwSWQpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNvb2tpZXMuc2V0KCd1dWlkJywgcmVzLnVzZXJJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY29va2llcy5zZXQoJ3Rva2VuJywgcmVzLnRva2VuKTsgLy8gLy8g6K6+572uIHZ1ZXgg55So5oi35L+h5oGvCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdkMmFkbWluL3VzZXIvc2V0JywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5uYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnbG9hZCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2xvZ2luJywKICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHRvLmZ1bGxQYXRoCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gLy8gaHR0cHM6Ly9naXRodWIuY29tL2QyLXByb2plY3RzL2QyLWFkbWluL2lzc3Vlcy8xMzgKCgogICAgICAgICAgICAgICAgTlByb2dyZXNzLmRvbmUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8g5LiN6ZyA6KaB6Lqr5Lu95qCh6aqMIOebtOaOpemAmui/hwogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAodG8pIHsKICAvLyDov5vluqbmnaEKICBOUHJvZ3Jlc3MuZG9uZSgpOyAvLyDlpJrpobXmjqfliLYg5omT5byA5paw55qE6aG16Z2iCgogIHN0b3JlLmRpc3BhdGNoKCdkMmFkbWluL3BhZ2Uvb3BlbicsIHRvKTsgLy8g5pu05pS55qCH6aKYCgogIHV0aWwudGl0bGUodG8ubWV0YS50aXRsZSk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["F:/workspace/jf_front_end/src/router/index.js"],"names":["Vue","VueRouter","NProgress","store","util","routes","dd","api","VueRouterPush","prototype","push","location","call","catch","err","VueRouterReplace","replace","use","router","beforeEach","to","from","next","dispatch","start","commit","matched","some","r","meta","auth","token","cookies","get","isDD","env","platform","corpId","ready","runtime","permission","requestAuthCode","onSuccess","info","code","set","DING_LOGIN","then","res","userId","name","root","console","log","query","redirect","fullPath","done","afterEach","title"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\n// 进度条\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\n\r\nimport store from '@/store/index'\r\nimport util from '@/libs/util.js'\r\n\r\n// 路由数据\r\nimport routes from './routes'\r\n\r\nimport * as dd from 'dingtalk-jsapi'\r\n\r\nimport api from '@/api'\r\n// fix vue-router NavigationDuplicateds\r\nconst VueRouterPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push (location) {\r\n  return VueRouterPush.call(this, location).catch(err => err)\r\n}\r\nconst VueRouterReplace = VueRouter.prototype.replace\r\nVueRouter.prototype.replace = function replace (location) {\r\n  return VueRouterReplace.call(this, location).catch(err => err)\r\n}\r\n\r\nVue.use(VueRouter)\r\n\r\n// 导出路由 在 main.js 里使用\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\n\r\n/**\r\n * 路由拦截\r\n * 权限验证\r\n */\r\nrouter.beforeEach(async (to, from, next) => {\r\n  // 确认已经加载多标签页数据 https://github.com/d2-projects/d2-admin/issues/201\r\n  await store.dispatch('d2admin/page/isLoaded')\r\n  // 确认已经加载组件尺寸设置 https://github.com/d2-projects/d2-admin/issues/198\r\n  await store.dispatch('d2admin/size/isLoaded')\r\n  // 进度条\r\n  NProgress.start()\r\n  // 关闭搜索面板\r\n  store.commit('d2admin/search/set', false)\r\n  // 验证当前路由所有的匹配中是否需要有登录验证的\r\n  if (to.matched.some(r => r.meta.auth)) {\r\n    // 这里暂时将cookie里是否存有token作为验证是否登录的条件\r\n    // 请根据自身业务需要修改\r\n    const token = util.cookies.get('token')\r\n    if (token && token !== 'undefined') {\r\n      next()\r\n    } else {\r\n      // 没有登录的时候跳转到登录界面\r\n      // 携带上登陆成功之后需要跳转的页面完整路径\r\n      // 判断是否是钉钉，若是钉钉，免登存cookie\r\n      // 若不是免登，则跳转登录页面\r\n      const isDD = dd.env.platform !== 'notInDingTalk'\r\n      const corpId = 'dingcd0f5a2514db343b35c2f4657eb6378f'\r\n      if (isDD) {\r\n        dd.ready(function () {\r\n          dd.runtime.permission.requestAuthCode({\r\n            corpId: corpId, // 企业id\r\n            onSuccess: (info) => {\r\n              const code = info.code // 通过该免登授权码可以获取用户身份\r\n              util.cookies.set('code', code)\r\n              api.DING_LOGIN(code, corpId)\r\n                .then(async (res) => {\r\n                  util.cookies.set('uuid', res.userId)\r\n                  util.cookies.set('token', res.token)\r\n                  // // 设置 vuex 用户信息\r\n                  await store.dispatch('d2admin/user/set', { name: res.name }, { root: true })\r\n                  // 用户登录后从持久化数据加载一系列的设置\r\n                  await store.dispatch('load')\r\n                  next()\r\n                })\r\n                .catch(err => {\r\n                  console.log('err', err)\r\n                })\r\n            }\r\n          })\r\n        })\r\n      } else {\r\n        next({\r\n          name: 'login',\r\n          query: {\r\n            redirect: to.fullPath\r\n          }\r\n        })\r\n      }\r\n      // https://github.com/d2-projects/d2-admin/issues/138\r\n      NProgress.done()\r\n    }\r\n  } else {\r\n    // 不需要身份校验 直接通过\r\n    next()\r\n  }\r\n})\r\n\r\nrouter.afterEach(to => {\r\n  // 进度条\r\n  NProgress.done()\r\n  // 多页控制 打开新的页面\r\n  store.dispatch('d2admin/page/open', to)\r\n  // 更改标题\r\n  util.title(to.meta.title)\r\n})\r\n\r\nexport default router\r\n"]}]}