{"remainingRequest":"F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\jf_front_end\\src\\views\\demo\\playground\\db\\page-snapshot-user\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\jf_front_end\\src\\views\\demo\\playground\\db\\page-snapshot-user\\index.vue","mtime":1590460801193},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\jf_front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZvcm06IHsNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIHJlZ2lvbjogJycsDQogICAgICAgIGRhdGUxOiAnJywNCiAgICAgICAgZGF0ZTI6ICcnLA0KICAgICAgICBkZWxpdmVyeTogZmFsc2UsDQogICAgICAgIHR5cGU6IFtdLA0KICAgICAgICByZXNvdXJjZTogJycsDQogICAgICAgIGRlc2M6ICcnDQogICAgICB9DQogICAgfQ0KICB9LA0KICBhc3luYyBjcmVhdGVkICgpIHsNCiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wYWdlR2V0KHsgaW5zdGFuY2U6IHRoaXMsIHVzZXI6IHRydWUgfSkNCiAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7DQogICAgICB0aGlzW2tleV0gPSBkYXRhW2tleV0NCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgJGRhdGE6IHsNCiAgICAgIGhhbmRsZXIgKCkgew0KICAgICAgICB0aGlzLnBhZ2VTZXQoeyBpbnN0YW5jZTogdGhpcywgdXNlcjogdHJ1ZSB9KQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKCdkMmFkbWluL2RiJywgWw0KICAgICAgJ3BhZ2VTZXQnLA0KICAgICAgJ3BhZ2VHZXQnLA0KICAgICAgJ3BhZ2VDbGVhcicNCiAgICBdKSwNCiAgICBhc3luYyBoYW5kbGVDbGVhciAoKSB7DQogICAgICBhd2FpdCB0aGlzLnBhZ2VDbGVhcih7IGluc3RhbmNlOiB0aGlzLCB1c2VyOiB0cnVlIH0pDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+atpOmhtemdouW/q+eFp+W3sue7j+WIoOmZpO+8jOivt+mHjeaWsOi/m+WFpeivpemhtemdouaIluiAheWFs+mXremAiemhueWNoemHjeaWsOaJk+W8gCcpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/demo/playground/db/page-snapshot-user","sourcesContent":["<template>\r\n  <d2-container>\r\n    <template slot=\"header\">\r\n      <el-alert\r\n        type=\"success\"\r\n        :closable=\"false\"\r\n        title=\"私有路由快照相当于私有路由存储一种快捷操作，\r\n          会将传入的 vue instance 携带的 $data 全部根据用户区分持久化，\r\n          下面的表单来自 Element 的表单示例，\r\n          在 D2Admin 的本页示例中你可以随意填写这个表单，\r\n          表单内容会自动实时持久化，\r\n          无论是切换标签页、重新打开标签页、刷新浏览器、重开浏览器、重开浏览器标签页等，\r\n          该页面数据都会自动恢复到上次填写的状态，\r\n          这些都只需要你使用 D2Admin 提供的两个方法，\r\n          总共只需要多写十几行代码\"/>\r\n    </template>\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" style=\"max-width: 600px; margin: 0px auto;\">\r\n      <el-form-item label=\"活动名称\">\r\n        <el-input v-model=\"form.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动区域\">\r\n        <el-select v-model=\"form.region\" placeholder=\"请选择活动区域\">\r\n          <el-option label=\"区域一\" value=\"shanghai\"></el-option>\r\n          <el-option label=\"区域二\" value=\"beijing\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动时间\">\r\n        <el-col :span=\"11\">\r\n          <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.date1\" style=\"width: 100%;\"></el-date-picker>\r\n        </el-col>\r\n        <el-col :span=\"2\" style=\"text-align: center;\">-</el-col>\r\n        <el-col :span=\"11\">\r\n          <el-time-picker type=\"fixed-time\" placeholder=\"选择时间\" v-model=\"form.date2\" style=\"width: 100%;\"></el-time-picker>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"即时配送\">\r\n        <el-switch v-model=\"form.delivery\"></el-switch>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动性质\">\r\n        <el-checkbox-group v-model=\"form.type\">\r\n          <el-checkbox label=\"线上活动\" name=\"type\"></el-checkbox>\r\n          <el-checkbox label=\"地推活动\" name=\"type\"></el-checkbox>\r\n          <el-checkbox label=\"线下活动\" name=\"type\"></el-checkbox>\r\n          <el-checkbox label=\"品牌曝光\" name=\"type\"></el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"特殊资源\">\r\n        <el-radio-group v-model=\"form.resource\">\r\n          <el-radio label=\"线上品牌商赞助\"></el-radio>\r\n          <el-radio label=\"线下场地免费\"></el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动形式\">\r\n        <el-input type=\"textarea\" v-model=\"form.desc\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\">立即创建</el-button>\r\n        <el-button>取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-button\r\n      slot=\"footer\"\r\n      type=\"danger\"\r\n      @click=\"handleClear\">\r\n      <d2-icon name=\"trash-o\"/>\r\n      删除当前页面快照\r\n    </el-button>\r\n  </d2-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        name: '',\r\n        region: '',\r\n        date1: '',\r\n        date2: '',\r\n        delivery: false,\r\n        type: [],\r\n        resource: '',\r\n        desc: ''\r\n      }\r\n    }\r\n  },\r\n  async created () {\r\n    const data = await this.pageGet({ instance: this, user: true })\r\n    for (const key in data) {\r\n      this[key] = data[key]\r\n    }\r\n  },\r\n  watch: {\r\n    $data: {\r\n      handler () {\r\n        this.pageSet({ instance: this, user: true })\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('d2admin/db', [\r\n      'pageSet',\r\n      'pageGet',\r\n      'pageClear'\r\n    ]),\r\n    async handleClear () {\r\n      await this.pageClear({ instance: this, user: true })\r\n      this.$message.success('此页面快照已经删除，请重新进入该页面或者关闭选项卡重新打开')\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}